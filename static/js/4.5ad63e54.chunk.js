(this.webpackJsonpcollection_manager=this.webpackJsonpcollection_manager||[]).push([[4],{108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,c="function"===typeof Symbol?Symbol:{},o=c.iterator||"@@iterator",a=c.asyncIterator||"@@asyncIterator",i=c.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(B){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var c=t&&t.prototype instanceof O?t:O,o=Object.create(c.prototype),a=new N(r||[]);return o._invoke=function(e,t,n){var r=u;return function(c,o){if(r===j)throw new Error("Generator is already running");if(r===f){if("throw"===c)throw o;return E()}for(n.method=c,n.arg=o;;){var a=n.delegate;if(a){var i=C(a,n);if(i){if(i===h)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=j;var s=d(e,t,n);if("normal"===s.type){if(r=n.done?f:b,s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=f,n.method="throw",n.arg=s.arg)}}}(e,n,a),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(B){return{type:"throw",arg:B}}}e.wrap=l;var u="suspendedStart",b="suspendedYield",j="executing",f="completed",h={};function O(){}function p(){}function m(){}var v={};v[o]=function(){return this};var g=Object.getPrototypeOf,x=g&&g(g(L([])));x&&x!==n&&r.call(x,o)&&(v=x);var y=m.prototype=O.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(c,o,a,i){var s=d(e[c],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"===typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,i)}),(function(e){n("throw",e,a,i)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,i)}))}i(s.arg)}var c;this._invoke=function(e,r){function o(){return new t((function(t,c){n(e,r,t,c)}))}return c=c?c.then(o,o):o()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var c=d(r,e.iterator,n.arg);if("throw"===c.type)return n.method="throw",n.arg=c.arg,n.delegate=null,h;var o=c.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function L(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var c=-1,a=function n(){for(;++c<e.length;)if(r.call(e,c))return n.value=e[c],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:E}}function E(){return{value:t,done:!0}}return p.prototype=y.constructor=m,m.constructor=p,p.displayName=s(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(k.prototype),k.prototype[a]=function(){return this},e.AsyncIterator=k,e.async=function(t,n,r,c,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,c),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(y),s(y,i,"Generator"),y[o]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=L,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function c(r,c){return i.type="throw",i.arg=e,n.next=r,c&&(n.method="next",n.arg=t),!!c}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return c("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return c(a.catchLoc,!0);if(this.prev<a.finallyLoc)return c(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return c(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return c(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n];if(c.tryLoc<=this.prev&&r.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var o=c;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var c=r.arg;S(n)}return c}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=r}catch(c){Function("r","regeneratorRuntime = r")(r)}},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},121:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(12),o=n(10),a=n(66),i=n(68),s=n(14),l=n(28),d=n(77),u=n(71),b=n(72),j=n(73),f=n(62),h=n(20),O=(n(108),n(0));var p=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.displayOptions.set})),n=Object(c.c)((function(e){return e.displayOptions.resetCount})),r=[];for(var a in h.b){var i={};i.text=h.b[a].name,i.val=a,r.push(i)}return Object(O.jsxs)("div",{className:"selectSet",children:[Object(O.jsx)("label",{children:"Select Set(s): "}),Object(O.jsx)(f.a,{options:r,useValForSelected:!0,noneSelectedText:"All Sets",selectedFn:function(t){return e(Object(o.v)(t))},initialSelected:t},n)]})},m=n(78),v=n(65);n(109);var g=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],o=t[1],f=Object(c.c)((function(e){return e.displayOptions})),h=f.rarity,g=f.showCards,x=f.booster,y=f.set,w=f.cmcs,k=f.searchType,C=f.cardTypes,D=!1;("Show All Cards"!==g||"Show All Cards"!==x||y.length>0||C.length>0||null!==k||Object.values(h).includes(!0)||w.length>0)&&(D=!0);var S=Object(O.jsxs)("div",{className:"advancedOptionsModal darkMode",children:[Object(O.jsx)("div",{className:"closeModalButton",children:Object(O.jsx)("button",{onClick:function(){return o(!n)},children:Object(O.jsx)("i",{className:"close icon"})})}),Object(O.jsxs)("div",{children:[Object(O.jsx)(a.a,{}),Object(O.jsxs)("div",{className:"advancedOptionsSection",children:[Object(O.jsx)(d.a,{header:"Select Rarity/Rarities to Show:"}),Object(O.jsx)(i.a,{header:"Select Color/Colors to Show:"})]}),Object(O.jsxs)("div",{className:"advancedOptionsSection",children:[Object(O.jsx)(u.a,{header:"Number You Own:"}),Object(O.jsx)(b.a,{header:"In Booster Packs?"}),Object(O.jsx)(j.a,{header:"Select Mana Costs:"})]}),Object(O.jsxs)("div",{className:"advancedOptionsSection",children:[Object(O.jsx)(p,{}),Object(O.jsx)(m.a,{}),Object(O.jsx)(v.a,{})]})]})]}),N=n?Object(O.jsx)(l.a,{content:S,show:n,setShow:o}):null;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:D?"advancedOptionsButton inUse":"advancedOptionsButton",onClick:function(){return o(!n)},title:"Advanced Options",children:Object(O.jsx)("i",{className:"icon cogs"})}),N]})};var x=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.deckBuilder})),n=t.addBasics,r=t.addType,a="addBasics";return n&&(a+=" active"),Object(O.jsx)("button",{className:a,onClick:function(t){"commander"!==r&&"companion"!==r||e(Object(o.w)("deck")),e(Object(o.I)())},children:"Add Basic Lands"})};n(110);var y=function(){return Object(O.jsxs)("div",{className:"DBCardFilters",children:[Object(O.jsx)(a.a,{advanced:!1}),Object(O.jsx)(i.a,{header:"Select Color/Colors to Show:"}),Object(O.jsx)(x,{}),Object(O.jsxs)("div",{className:"advancedAndReset",children:[Object(O.jsx)(g,{}),Object(O.jsx)(v.a,{})]})]})},w=n(58),k=n(79),C=n.n(k);function D(e,t,n,r,c,o,a){try{var i=e[o](a),s=i.value}catch(l){return void n(l)}i.done?t(s):Promise.resolve(s).then(r,c)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,c){var o=e.apply(t,n);function a(e){D(o,r,c,a,i,"next",e)}function i(e){D(o,r,c,a,i,"throw",e)}a(void 0)}))}}var N=function(e){var t=e.setModalOpen,n=Object(c.c)((function(e){return e.deckBuilder})),o=n.deckMap,a=n.sideboardMap,i=n.commander,l=n.companion,d=Object(r.useState)("Copy to Clipboard"),u=Object(s.a)(d,2),b=u[0],j=u[1],f=Object(r.useState)("Save to File"),h=Object(s.a)(f,2),p=h[0],m=h[1],v=Object(r.useMemo)((function(){var e="";return Object.keys(o).length&&(e+="Deck\n",e+=g(o)),Object.keys(a).length&&(e+="\nSideboard\n",e+=g(a)),i&&(e+="\nCommander\n",e+=x(i)),l&&(e+="\nCompanion\n",e+=x(l)),e}),[i,l,o,a]);function g(e){for(var t=" // ",n="",r=0,c=Object.entries(e);r<c.length;r++){var o=Object(s.a)(c[r],2),a=o[0],i=o[1];a.includes(t)&&(a=a.substring(0,a.indexOf(t)));for(var l=0,d=Object.values(i);l<d.length;l++){var u=d[l];u.set.length>3||/.*[A-Za-z].*/.test(u.collector_number)?n+="".concat(u.copies," ").concat(a,"\n"):n+="".concat(u.copies," ").concat(a," (").concat(u.set.toUpperCase(),") ").concat(u.collector_number,"\n")}}return n}function x(e){var t="";return e.set.length>3||/.*[A-Za-z].*/.test(e.collector_number)?t+="1 ".concat(e.name,"\n"):t+="1 ".concat(e.name," (").concat(e.set.toUpperCase(),") ").concat(e.collector_number,"\n"),t}function y(){return(y=S(C.a.mark((function e(){var t,n,r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=v,n={suggestedName:"deck_".concat((new Date).toISOString().replace(/\..+/g,"").replace(/[T:-]/g,""),".txt"),types:[{description:"Text Files",accept:{"text/plain":[".txt"]}}]},e.next=5,window.showSaveFilePicker(n);case 5:return r=e.sent,e.next=8,r.createWritable();case 8:return c=e.sent,e.next=11,c.write(t);case 11:return e.next=13,c.close();case 13:m("Saved!"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),m("Did not Save");case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}return Object(O.jsxs)("div",{id:"importExportContent",children:[Object(O.jsxs)("div",{className:"spacedModalHeader",children:[Object(O.jsx)("div",{className:"invisible closeButtonSpacer"}),Object(O.jsx)("h1",{children:"Import Deck"}),Object(O.jsx)("div",{className:"closeModalButton",children:Object(O.jsx)("button",{onClick:function(){return t(!1)},children:Object(O.jsx)("i",{className:"close icon"})})})]}),Object(O.jsx)("h3",{children:"Preview:"}),Object(O.jsx)("p",{id:"deckPreview",children:v}),Object(O.jsxs)("div",{id:"fileOrClipboardButtons",children:[Object(O.jsx)("button",{onClick:function(){return y.apply(this,arguments)},children:p}),Object(O.jsx)("button",{onClick:function(){var e=v;navigator.clipboard.writeText(e).then((function(){j("Copied!")}))},children:b})]})]})},L=n(2),E=n(15),B=n(29);var _=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[];if(e=e.toLowerCase(),t=t?t.toLowerCase():null,"number"===typeof n&&(n=n.toString()),t&&n){var c,o=Object(E.a)(B.a);try{for(o.s();!(c=o.n()).done;){var a=c.value;if(a.set===t&&a.collector_number===n){r.push(a);break}}}catch(j){o.e(j)}finally{o.f()}}else if(t){var i,s=Object(E.a)(B.a);try{for(s.s();!(i=s.n()).done;){var l=i.value;if((l.name.toLowerCase()===e||l.card_faces&&l.card_faces[0].name.toLowerCase()===e)&&l.set===t){r.push(l);break}}}catch(j){s.e(j)}finally{s.f()}}if(0===r.length){var d,u=Object(E.a)(B.a);try{for(u.s();!(d=u.n()).done;){var b=d.value;(b.name.toLowerCase()===e||b.card_faces&&b.card_faces[0].name.toLowerCase()===e)&&r.push(b)}}catch(j){u.e(j)}finally{u.f()}}return r};var I=function(e){var t=e.setModalOpen,n=Object(r.useState)(""),a=Object(s.a)(n,2),i=a[0],l=a[1],d=Object(c.c)((function(e){return e.inventory.cardCollection})),u=Object(c.b)();function b(e,t){var n=[];if(e<1||0===t.length);else if(1===t.length)for(var r=0;r<e;r++)n.push(Object(L.a)({},t[0]));else if(t[0].type_line.toLowerCase().includes("basic")&&t[0].type_line.toLowerCase().includes("land"))for(var c=_(t[0].name,h.c[0]),o=Object(s.a)(c,1)[0],a=0;a<e;a++)n.push(o);else{var i,l=Object(E.a)(t);try{for(l.s();!(i=l.n()).done;){var u=i.value,b=d&&d[u.arenaId]?d[u.arenaId]:0;u.numOwned=b}}catch(C){l.e(C)}finally{l.f()}t.sort((function(e,t){return t.numOwned-e.numOwned}));var j,f=Object(E.a)(t);try{for(f.s();!(j=f.n()).done;){var O=j.value,p=e-n.length;if(p<=0)break;if(0===O.numOwned)break;if(O.numOwned>=p){for(var m=0;m<p;m++)n.push(O);break}for(var v=0;v<O.numOwned;v++)n.push(O)}}catch(C){f.e(C)}finally{f.f()}for(var g=e-n.length,x=0;x<g;x++)n.push(t[0])}for(var y=0,w=n;y<w.length;y++){var k=w[y];"dar"===k.set.toLowerCase()&&(k.set="dom")}return n}function j(e){var t,n=/(\d+)\s+(.+\S)\s+\((\w{3,4})\)\s+(\d+)/,r=/(\d+)\s+(.+\S)\s+\((\w{3,4})\)/,c=/(\d+)\s+(.+\S)/,o=[],a=Object(E.a)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if("string"===typeof i){var s=i.match(n);s||(s=i.match(r)),s||(s=i.match(c));var l=s?_(s[2],s[3],s[4]):[];o.push({number:s&&s[1]?parseInt(s[1],10):0,matches:l})}}}catch(d){a.e(d)}finally{a.f()}return o}function f(){return(f=S(C.a.mark((function e(){var t,n,r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={types:[{description:"Text Files",accept:{"text/plain":[".txt"]}}]},e.next=4,window.showOpenFilePicker(t);case 4:return n=e.sent,r=Object(s.a)(n,1),c=r[0],e.next=9,c.getFile();case 9:return c=e.sent,e.next=12,c.text();case 12:c=e.sent,l(c),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),l("Sorry, there was an error importing that file.");case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}return Object(O.jsxs)("div",{id:"importExportContent",children:[Object(O.jsxs)("div",{className:"spacedModalHeader",children:[Object(O.jsx)("div",{className:"invisible closeButtonSpacer"}),Object(O.jsx)("h1",{children:"Import Deck"}),Object(O.jsx)("div",{className:"closeModalButton",children:Object(O.jsx)("button",{onClick:function(){return t(!1)},children:Object(O.jsx)("i",{className:"close icon"})})})]}),Object(O.jsx)("h3",{children:"Preview/Copy & Paste:"}),Object(O.jsx)("textarea",{id:"deckPreview",value:i,onChange:function(e){return l(e.target.value)},spellCheck:"false"}),Object(O.jsxs)("div",{id:"fileOrClipboardButtons",children:[Object(O.jsx)("button",{onClick:function(){return f.apply(this,arguments)},children:"Import from File"}),Object(O.jsx)("button",{onClick:function(){toString,navigator.clipboard.readText().then((function(e){return l(e)}))},children:"Copy from Clipboard"}),Object(O.jsx)("button",{onClick:function(){var e,n=function(){try{for(var e=i.trim().split(/\r?\n/),t=[],n=[],r=[],c=[],o=[],a=[],s=0;s<e.length;s++){var d=e[s].toLowerCase().trim();if("commander"===d)r=j([e[++s].toLowerCase().trim()])[0].matches;else if("companion"===d){c=j([e[++s].toLowerCase().trim()])[0].matches}else if("deck"===d){for(d=e[++s]?e[s].toLowerCase().trim():"";""!==d&&s!==e.length;)t.push(d),d=e[++s]?e[s].toLowerCase().trim():"";o=j(t)}else if("sideboard"===d){for(d=e[++s]?e[s].toLowerCase().trim():"";""!==d&&s!==e.length;)n.push(d),d=e[++s]?e[s].toLowerCase().trim():"";a=j(n)}else{if(""===d)continue;if(0===s){for(;""!==d&&s!==e.length;)t.push(d),d=e[++s]?e[s].toLowerCase().trim():"";o=j(t)}else{for(;""!==d&&s!==e.length;)n.push(d),d=e[++s]?e[s].toLowerCase().trim():"";a=j(n)}}}return{deck:o,sideboard:a,commander:r,companion:c}}catch(u){l("Sorry, there was an error importing that file.")}}(),r=n.deck,c=n.sideboard,a=Object(s.a)(n.commander,1)[0],d=Object(s.a)(n.companion,1)[0],f=[],h=[],O=Object(E.a)(r);try{for(O.s();!(e=O.n()).done;){var p=e.value,m=p.number,v=p.matches;f=f.concat(b(m,v))}}catch(C){O.e(C)}finally{O.f()}var g,x=Object(E.a)(c);try{for(x.s();!(g=x.n()).done;){var y=g.value,w=y.number,k=y.matches;h=h.concat(b(w,k))}}catch(C){x.e(C)}finally{x.f()}u(Object(o.z)(f)),u(Object(o.F)(h)),u(Object(o.d)(a)),u(Object(o.e)(d)),t(!1)},children:Object(O.jsx)("strong",{children:"Submit"})})]})]})};n(112);var P=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(!1),a=Object(s.a)(o,2),i=a[0],d=a[1],u=Object(O.jsx)("div",{className:"importExportModal darkMode",children:i?Object(O.jsx)(I,{setModalOpen:c}):Object(O.jsx)(N,{setModalOpen:c})}),b=n?Object(O.jsx)(l.a,{content:u,show:n,setShow:c}):null;return Object(O.jsxs)("div",{id:"importExportButtons",children:[Object(O.jsx)("button",{className:"importExportButton",title:"Import Deck Button",onClick:function(){d(!0),c(!n)},children:"Import Deck"}),Object(O.jsx)("button",{className:"importExportButton",title:"Export Deck Button",onClick:function(){d(!1),c(!n)},children:"Export Deck"}),b]})};n(113);var T=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.deckBuilder})),n=t.deckType,r=t.deck,a=t.sideboard,i=[];i[4]="historic brawl";var s=Object(O.jsx)(w.a,{items:["standard","historic","limited","brawl","historicbrawl","future","custom"],labels:i,firstSelection:n,selectfn:function(t){return e(Object(o.s)(t))},ariaLabel:"Select deck type"}),l=Object(O.jsx)("button",{className:"clearDeck",onClick:function(){"limited"===n?(e(Object(o.z)([])),e(Object(o.F)(r.concat(a).flat())),e(Object(o.d)(null)),e(Object(o.e)(null))):(e(Object(o.z)([])),e(Object(o.F)([])),e(Object(o.d)(null)),e(Object(o.e)(null)))},children:"limited"===n?"Reset to Sideboard":"Clear Deck"});return Object(O.jsxs)("div",{id:"DBDeckOptions",children:[Object(O.jsx)("label",{htmlFor:"gameTypeDropDown",children:"Game Mode:"}),Object(O.jsx)("div",{id:"gameTypeDropDown",children:s}),Object(O.jsx)(P,{}),l]})};n(114);var A=function(){var e=Object(c.b)();return Object(O.jsxs)("div",{id:"DBSidebar",onDragEnter:function(){return e(Object(o.y)())},children:[Object(O.jsx)(y,{}),Object(O.jsx)(T,{})]})};n(115);var F=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.deckBuilder})),n=t.addType,a=t.deckType,i=t.addBasics,s="sideboard"!==n;Object(r.useEffect)((function(){"limited"===a&&e(Object(o.w)("deck"))}),[a,e]);var l=Object(c.c)((function(e){return e.deckBuilder})),d=l.deck,u=l.sideboard,b=l.commander,j=l.companion;d=d.flat();var f,h=j?u.flat().length+1:u.flat().length,p=b?1:0,m=0,v=0,g=0,x=0,y=Object(E.a)(d);try{for(y.s();!(f=y.n()).done;){var w=f.value;if(p++,w.type_line.includes("Creature")&&g++,w.type_line.includes("//")){var k=w.type_line.match(/(.+) \/\/ (.+)/),C=k[1],D=k[2];C.includes("Land")&&D.includes("Land")?m++:w.type_line.includes("Land")&&v++,w.type_line.includes("Creature")||C.includes("Land")&&D.includes("Land")||x++}else w.type_line.includes("Land")&&m++,w.type_line.includes("Creature")||w.type_line.includes("Land")||x++}}catch(P){y.e(P)}finally{y.f()}var S=null;function N(t){t.stopPropagation(),e(s?Object(o.w)("sideboard"):Object(o.w)("deck"))}v>0&&(S=Object(O.jsx)("span",{children:"(+".concat(v,")")}));var L="limited"===a?null:Object(O.jsxs)("div",{className:"addToggle",tabIndex:"0",onKeyDown:function(e){"Enter"===e.key&&N(e)},onMouseDown:function(e){return N(e)},role:"checkbox","aria-checked":!s,"aria-label":"Toggle add to deck or sideboard",children:[Object(O.jsx)("span",{className:"deck_sideboardToggleLabel",children:"Add to Deck"}),Object(O.jsxs)("div",{className:"ui fitted toggle checkbox",children:[Object(O.jsx)("input",{type:"checkbox",name:"deckOrSideboard",id:"deckOrSideboard",tabIndex:"-1",checked:!s,readOnly:!0}),Object(O.jsx)("label",{tabIndex:"-1"})]}),Object(O.jsx)("span",{className:"deck_sideboardToggleLabel",children:"Add to Sideboard"})]});function B(t,r){t.stopPropagation(),e(r!==n?Object(o.w)(r):Object(o.w)("deck"))}function _(e){var t,r={};switch(e===n&&(r.filter="brightness(70%)"),e){case"commander":t="Set Commander";break;case"companion":t="Set Companion";break;default:t=""}return Object(O.jsx)("button",{className:"setComButton",tabIndex:"0","aria-label":"Set ".concat(e," button"),onKeyDown:function(t){"Enter"===t.key&&B(t,e)},onMouseDown:function(t){return B(t,e)},style:r,children:t},"".concat(e))}var I=[];return i||(["brawl","historicbrawl","custom"].includes(a)&&I.push(_("commander")),I.push(_("companion"))),Object(O.jsxs)("div",{className:"deckHeader",onDragEnter:function(){return e(Object(o.y)())},children:[Object(O.jsxs)("div",{className:"left",children:[Object(O.jsxs)("div",{className:"deckCount",children:["Deck: ",p]}),Object(O.jsxs)("div",{className:"landCount",children:["Land: ",m,S]}),Object(O.jsxs)("div",{className:"creatureCount",children:["Creatures: ",g]}),Object(O.jsxs)("div",{className:"nonCreatureCount",children:["Noncreatures: ",x]})]}),Object(O.jsxs)("div",{className:"right",children:[I,Object(O.jsxs)("div",{className:"sideboardCount",children:["Sideboard: ",h]}),L]})]})},M=n(59);n(116);var R=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.inventory})).cardCollection,n=Object(c.c)((function(e){return e.deckBuilder})),a=n.deck,i=n.commander,s=n.companion,l=n.deckType,d=n.addType,u=n.currentDragOver,b=Object(r.useMemo)((function(){var n={};return a.map((function(r,c){var i="";return"deck"===u.section&&u.col===c&&(i=" draggingOver"),Object(O.jsxs)("div",{className:"DBDeckColumn".concat(i),draggable:"false",onDragOver:function(e){return e.preventDefault()},onDrop:function(t){t.stopPropagation(),e(Object(o.f)("deck",{col:c,row:a[c].length})),e(Object(o.y)())},onDragEnter:function(){e(Object(o.y)("deck",c,a[c].length))},children:[Object(O.jsx)("div",{className:"firstElement",onDrop:function(t){t.stopPropagation(),e(Object(o.f)("deck",{col:c,row:-1})),e(Object(o.y)())},onDragEnter:function(t){t.stopPropagation(),e(Object(o.y)("deck",c,-1))},children:a[c].length}),r.map((function(r,a){n[r.arenaId]=n[r.arenaId]?n[r.arenaId]+1:1;var i={};return r.legalities&&r.legalities[l]&&"legal"!==r.legalities[l]&&(i.boxShadow="0 0 0 3px red",i.borderRadius="5px"),t&&Object.keys(t).length>0&&(r.type_line.toLowerCase().includes("basic")&&r.type_line.toLowerCase().includes("land")&&t[r.arenaId]||t[r.arenaId]&&t[r.arenaId]>=4&&[70288,69172,67306,76490].includes(r.arenaId)||(void 0===t[r.arenaId]||n[r.arenaId]>t[r.arenaId])&&(i.filter="brightness(50%)")),"deck"===u.section&&u.col===c&&a>u.row&&(i.transform="translateY(10px)"),Object(O.jsx)("div",{className:"DBDeckCard",style:{zIndex:a},onDragOver:function(e){return e.preventDefault()},children:Object(O.jsx)(M.a,{imgs:r.imgs,children:Object(O.jsx)("img",{src:r.imgs.front,alt:r.name,style:i,draggable:"true",tabIndex:0,onDragStart:function(t){e(Object(o.A)(r,"deck",{col:c,row:a}))},onDragEnd:function(){return e(Object(o.A)(null))},onDrop:function(t){t.stopPropagation(),e(Object(o.f)("deck",{col:c,row:a})),e(Object(o.y)())},onDragEnter:function(t){t.stopPropagation(),e(Object(o.y)("deck",c,a))},onClick:function(t){e(Object(o.l)(r,c,a)),"limited"===l&&e(Object(o.c)(r))},onKeyDown:function(t){"Enter"===t.key&&(e(Object(o.l)(r,c,a)),"limited"===l&&e(Object(o.c)(r)))}})})},"card"+c+a)}))]},"column"+c)}))}),[a,l,t,e,u]),j=i||s||"commander"===d||"companion"===d?Object(O.jsxs)("div",{id:"commander_companion",onDragEnter:function(){return e(Object(o.y)())},children:[i||"commander"===d?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"DBDeckColumn",draggable:"true",onDragOver:function(e){return e.preventDefault()},onDragStart:function(){return e(Object(o.A)(i,"commander",{col:null,row:null}))},onDragEnd:function(){return e(Object(o.A)(null))},onDrop:function(){e(Object(o.f)("commander",{col:null,row:null})),e(Object(o.y)())},onDragEnter:function(t){t.stopPropagation(),e(Object(o.y)("commander"))},children:[Object(O.jsx)("div",{className:"firstElement",children:"Commander"}),Object(O.jsx)("div",{className:"commander"===u.section?"specialCard draggingOver":"specialCard",children:i?Object(O.jsx)(M.a,{imgs:i.imgs,children:Object(O.jsx)("img",{src:i.imgs.front,alt:i.name,id:"commanderCard",tabIndex:0,onClick:function(){return e(Object(o.d)())},onKeyDown:function(t){"Enter"===t.key&&e(Object(o.d)())}})}):null})]})}):null,s||"companion"===d?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"DBDeckColumn",draggable:"true",onDragOver:function(e){return e.preventDefault()},onDragStart:function(){return e(Object(o.A)(s,"companion",{col:null,row:null}))},onDragEnd:function(){return e(Object(o.A)(null))},onDrop:function(){e(Object(o.f)("companion",{col:null,row:null})),e(Object(o.y)())},onDragEnter:function(t){t.stopPropagation(),e(Object(o.y)("companion"))},children:[Object(O.jsx)("div",{className:"firstElement",children:"Companion"}),Object(O.jsx)("div",{className:"companion"===u.section?"specialCard draggingOver":"specialCard",children:s?Object(O.jsx)(M.a,{imgs:s.imgs,children:Object(O.jsx)("img",{src:s.imgs.front,alt:s.name,id:"companionCard",tabIndex:0,onClick:function(){e(Object(o.e)()),"limited"===l&&e(Object(o.c)(s))},onKeyDown:function(t){"Enter"===t.key&&(e(Object(o.e)()),"limited"===l&&e(Object(o.c)(s)))}})}):null})]})}):null]}):null;return Object(O.jsxs)("div",{id:"DBDeck",children:[j,b]})},Y=n(80);n(117);var G=function(){for(var e=Object(r.useState)(!0),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(c.c)((function(e){return e.inventory})).cardCollection,l=Object(c.c)((function(e){return e.deckBuilder})),d=l.deckType,u=l.sideboard,b=l.currentDragOver,j=Object(c.b)(),f={},h=[],p=0,m=function(e){for(var t=function(t){var n=u[e][t];f[n.arenaId]=f[n.arenaId]?f[n.arenaId]+1:1;var r={};n.legalities&&n.legalities[d]&&"legal"!==n.legalities[d]&&(r.boxShadow="0 0 0 3px red",r.borderRadius="5px"),i&&(n.type_line.toLowerCase().includes("basic")&&n.type_line.toLowerCase().includes("land")&&i[n.arenaId]||i[n.arenaId]&&i[n.arenaId]>=4&&[70288,69172,67306,76490].includes(n.arenaId)||(!i[n.arenaId]||f[n.arenaId]>i[n.arenaId])&&(r.filter="brightness(50%)")),"sideboard"===b.section&&(b.col<e||b.col===e&&t>b.row)&&(r.transform="translateY(10px)"),h.push(Object(O.jsx)("div",{className:"DBDeckCard",style:{zIndex:p},children:Object(O.jsx)(M.a,{imgs:n.imgs,children:Object(O.jsx)("img",{draggable:"true",src:n.imgs.front,alt:n.name,style:r,onClick:function(r){j(Object(o.m)(n,e,t))},onDragStart:function(){j(Object(o.A)(n,"sideboard",{col:e,row:t}))},onDragEnd:function(){return j(Object(o.A)(null))},onDrop:function(){j(Object(o.f)("sideboard",{col:e,row:t})),j(Object(o.y)())},onDragEnter:function(n){n.stopPropagation(),j(Object(o.y)("sideboard",e,t))}})})},n+p)),p++},n=0;n<u[e].length;n++)t(n)},v=0;v<u.length;v++)m(v);var g="SBshowButton icon caret right",x="sideboard";n||(g="SBshowButton icon caret left",x="sideboard closed");var y=Object(O.jsx)("div",{className:"sideboardseparator",children:Object(O.jsx)("i",{className:g,onClick:function(){return a(!n)}})});return Object(O.jsxs)("div",{className:x,onDragEnter:function(){return j(Object(o.y)())},children:[y,Object(O.jsxs)("div",{className:"sideboard"===b.section?"DBDeckColumn draggingOver":"DBDeckColumn",onDragOver:function(e){return e.preventDefault()},onDrop:function(){j(Object(o.f)("sideboard",{col:7,row:u[7].length})),j(Object(o.y)())},onDragEnter:function(e){e.stopPropagation(),j(Object(o.y)("sideboard",7,u[7].length))},children:[Object(O.jsx)("div",{className:"firstElement",onDrop:function(e){e.stopPropagation(),j(Object(o.f)("sideboard",{col:0,row:-1})),j(Object(o.y)())},onDragEnter:function(e){e.stopPropagation(),j(Object(o.y)("sideboard",0,-1))}}),h]})]})},z=n(70);n(118);function K(e){var t=e.cardArray,n=e.col,r=Object(c.b)(),a=Object(c.c)((function(e){return e.displayOptions})),i=a.colors,s=a.rarity,l=a.cardTypes,d=a.searchTerm,u=a.searchType,b=a.cmc,j=Object(c.c)((function(e){return e.deckBuilder})),f=j.addType,h=j.currentDragOver,p=[];for(var m in s)s[m]&&p.push(m);var v=void 0;if(l.length>=1){v=[];var g,x=Object(E.a)(l);try{for(x.s();!(g=x.n()).done;){var y=g.value;v.push(y.val)}}catch(S){x.e(S)}finally{x.f()}}var w=Object(L.a)({},b);"Any"===w.min&&(w.min=void 0),"Any"===w.max&&(w.max=void 0),(p.length<1||p.length>3)&&(p=void 0);var k,C={color:i,rarity:p,cardTypes:v,term:d,advancedSearchType:u,cmc:w,addType:f},D=Object(z.a)(C,t,!1);return k=D.map((function(e,c){var a={};return"sideboard"===h.section&&h.col===n&&c>h.row&&(a.transform="translateY(10px)"),Object(O.jsx)("div",{className:"DBDeckCard",onClick:function(c){return function(e,c){e.stopPropagation(),r(Object(o.m)(c,n,t.indexOf(c))),"deck"===f&&r(Object(o.b)(c)),"companion"===f&&r(Object(o.e)(c))}(c,e)},children:Object(O.jsx)(M.a,{imgs:e.imgs,children:Object(O.jsx)("img",{src:e.imgs.front,alt:e.name,style:a,onDragStart:function(){r(Object(o.A)(e,"sideboard",{col:n,row:t.indexOf(e)}))},onDragEnd:function(){r(Object(o.A)(null))},onDrop:function(c){c.stopPropagation(),r(Object(o.f)("sideboard",{col:n,row:t.indexOf(e)})),r(Object(o.y)())},onDragEnter:function(c){c.stopPropagation(),r(Object(o.y)("sideboard",n,t.indexOf(e)))}})})},e.name+c)})),Object(O.jsxs)("div",{className:"sideboard"===h.section&&h.col===n?"DBDeckColumn draggingOver":"DBDeckColumn",onDrop:function(e){e.stopPropagation(),r(Object(o.f)("sideboard",{col:n,row:t.length})),r(Object(o.y)())},onDragEnter:function(e){e.stopPropagation(),r(Object(o.y)("sideboard",n,t.length))},children:[Object(O.jsx)("div",{className:"firstElement",onDrop:function(e){e.stopPropagation(),r(Object(o.f)("sideboard",{col:n,row:-1})),r(Object(o.y)())},onDragEnter:function(e){e.stopPropagation(),r(Object(o.y)("sideboard",n,-1))},children:D.length}),k]})}var H=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.deckBuilder})).sideboard;return Object(O.jsxs)("div",{className:"limitedSideboard",children:[Object(O.jsxs)("div",{className:"limitedSideboard-header",children:[Object(O.jsx)("label",{htmlFor:"sortButtons",children:"Sort By:"}),Object(O.jsxs)("div",{className:"sortButtons",children:[Object(O.jsx)("button",{className:"sortCmc",onClick:function(){return e(Object(o.i)("cmc"))},children:"Mana Value"}),Object(O.jsx)("button",{className:"sortColor",onClick:function(){return e(Object(o.i)("color"))},children:"Color"})]})]}),Object(O.jsxs)("div",{className:"limitedSideboard-cards",children:[Object(O.jsx)(K,{cardArray:t[0],col:0}),Object(O.jsx)(K,{cardArray:t[1],col:1}),Object(O.jsx)(K,{cardArray:t[2],col:2}),Object(O.jsx)(K,{cardArray:t[3],col:3}),Object(O.jsx)(K,{cardArray:t[4],col:4}),Object(O.jsx)(K,{cardArray:t[5],col:5}),Object(O.jsx)(K,{cardArray:t[6],col:6}),Object(O.jsx)(K,{cardArray:t[7],col:7})]})]})};n(119);t.default=function(){var e=Object(r.useRef)(),t=Object(c.c)((function(e){return e.deckBuilder})),n=t.deckType,a=t.addBasics,i="limited"!==n||a?Object(O.jsx)(Y.a,{scrollingParent:".dbCardList",deckBuilder:!0}):Object(O.jsx)(H,{}),s=Object(c.b)();return Object(O.jsxs)("div",{id:"DeckBuilder",children:[Object(O.jsx)(A,{}),Object(O.jsxs)("div",{className:"mainContent",children:[Object(O.jsx)("div",{className:"dbCardList",ref:e,onDragOver:function(e){return e.preventDefault()},onDrop:function(){"limited"!==n&&s(Object(o.f)("collection",null))},children:i}),Object(O.jsx)("div",{className:"slider",onMouseDown:function(t){return function(t){var n=t.clientY;e.current.style.overflowY="hidden",e.current.style.marginRight="10px",document.onmousemove=function(t){e.current.style.height=e.current.offsetHeight+t.clientY-n+"px",n=t.clientY},document.onmouseup=function(){document.onmousemove=document.onmouseup=null,e.current.style.overflowY="scroll",e.current.style.marginRight="0"}}(t)},children:Object(O.jsx)(F,{})}),Object(O.jsxs)("div",{className:"deckSection",children:[Object(O.jsx)(R,{}),"limited"===n?null:Object(O.jsx)(G,{})]})]})]})}},79:function(e,t,n){e.exports=n(111)}}]);
//# sourceMappingURL=4.5ad63e54.chunk.js.map